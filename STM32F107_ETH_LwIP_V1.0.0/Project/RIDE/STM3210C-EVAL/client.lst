
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Project\RIDE\STM3210C-EVAL\client.o:     file format elf32-littlearm
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Project\RIDE\STM3210C-EVAL\client.o

Disassembly of section .text.tcp_led_control:

00000000 <tcp_led_control>:
tcp_led_control():
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:155
  * @brief  Send to the server the led that should be toogled.
  * @param  Led the led that should be toogled
  * @retval None
  */
void tcp_led_control(Led_TypeDef Led)
{
   0:	b513      	push	{r0, r1, r4, lr}
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:160
  char ledstatus;

  ledstatus = (char) Led;
  
  tcp_write(TcpPCB, &ledstatus, sizeof(ledstatus), 1);
   2:	4c06      	ldr	r4, [pc, #24]	(1c <tcp_led_control+0x1c>)
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:158
  */
void tcp_led_control(Led_TypeDef Led)
{
  char ledstatus;

  ledstatus = (char) Led;
   4:	a902      	add	r1, sp, #8
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:160
  
  tcp_write(TcpPCB, &ledstatus, sizeof(ledstatus), 1);
   6:	2201      	movs	r2, #1
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:158
  */
void tcp_led_control(Led_TypeDef Led)
{
  char ledstatus;

  ledstatus = (char) Led;
   8:	f801 0d01 	strb.w	r0, [r1, #-1]!
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:160
  
  tcp_write(TcpPCB, &ledstatus, sizeof(ledstatus), 1);
   c:	4613      	mov	r3, r2
   e:	6820      	ldr	r0, [r4, #0]
  10:	f7ff fffe 	bl	0 <tcp_write>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:163

  /* send the data right now */
  tcp_output(TcpPCB); 
  14:	6820      	ldr	r0, [r4, #0]
  16:	f7ff fffe 	bl	0 <tcp_output>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:164
}
  1a:	bd1c      	pop	{r2, r3, r4, pc}
  1c:	00000000 	.word	0x00000000
Disassembly of section .text.tcp_client_connected:

00000000 <tcp_client_connected>:
tcp_client_connected():
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:131
  * @param tpcb the tcp_pcb which received data
  * @param err error value returned by the tcp_connect 
  * @retval error value
  */
err_t tcp_client_connected(void *arg, struct tcp_pcb *tpcb, err_t err)
{
   0:	b510      	push	{r4, lr}
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:132
  LCD_DisplayStringLine(Line5, "Led control started ");
   2:	2078      	movs	r0, #120
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:131
  * @param tpcb the tcp_pcb which received data
  * @param err error value returned by the tcp_connect 
  * @retval error value
  */
err_t tcp_client_connected(void *arg, struct tcp_pcb *tpcb, err_t err)
{
   4:	460c      	mov	r4, r1
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:132
  LCD_DisplayStringLine(Line5, "Led control started ");
   6:	4917      	ldr	r1, [pc, #92]	(64 <tcp_client_connected+0x64>)
   8:	f7ff fffe 	bl	0 <LCD_DisplayStringLine>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:135
  
  /* Display Leds Control blocks */
  LCD_SetTextColor(Blue);
   c:	201f      	movs	r0, #31
   e:	f7ff fffe 	bl	0 <LCD_SetTextColor>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:136
  LCD_DrawRect(180, 310, 40, 60);
  12:	2228      	movs	r2, #40
  14:	233c      	movs	r3, #60
  16:	20b4      	movs	r0, #180
  18:	f44f 719b 	mov.w	r1, #310	; 0x136
  1c:	f7ff fffe 	bl	0 <LCD_DrawRect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:137
  LCD_SetTextColor(Red);
  20:	f44f 4078 	mov.w	r0, #63488	; 0xf800
  24:	f7ff fffe 	bl	0 <LCD_SetTextColor>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:138
  LCD_DrawRect(180, 230, 40, 60);
  28:	21e6      	movs	r1, #230
  2a:	2228      	movs	r2, #40
  2c:	233c      	movs	r3, #60
  2e:	20b4      	movs	r0, #180
  30:	f7ff fffe 	bl	0 <LCD_DrawRect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:139
  LCD_SetTextColor(Yellow);
  34:	f64f 70e0 	movw	r0, #65504	; 0xffe0
  38:	f7ff fffe 	bl	0 <LCD_SetTextColor>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:140
  LCD_DrawRect(180, 150, 40, 60);
  3c:	2196      	movs	r1, #150
  3e:	2228      	movs	r2, #40
  40:	233c      	movs	r3, #60
  42:	20b4      	movs	r0, #180
  44:	f7ff fffe 	bl	0 <LCD_DrawRect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:141
  LCD_SetTextColor(Green);
  48:	f44f 60fc 	mov.w	r0, #2016	; 0x7e0
  4c:	f7ff fffe 	bl	0 <LCD_SetTextColor>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:142
  LCD_DrawRect(180, 70, 40, 60);
  50:	20b4      	movs	r0, #180
  52:	233c      	movs	r3, #60
  54:	2146      	movs	r1, #70
  56:	2228      	movs	r2, #40
  58:	f7ff fffe 	bl	0 <LCD_DrawRect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:144

  TcpPCB = tpcb;
  5c:	4b02      	ldr	r3, [pc, #8]	(68 <tcp_client_connected+0x68>)
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:147
  
  return ERR_OK;
}
  5e:	2000      	movs	r0, #0
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:144
  LCD_SetTextColor(Yellow);
  LCD_DrawRect(180, 150, 40, 60);
  LCD_SetTextColor(Green);
  LCD_DrawRect(180, 70, 40, 60);

  TcpPCB = tpcb;
  60:	601c      	str	r4, [r3, #0]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:147
  
  return ERR_OK;
}
  62:	bd10      	pop	{r4, pc}
	...
Disassembly of section .text.udp_client_callback:

00000000 <udp_client_callback>:
udp_client_callback():
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:93
   * @param addr the remote IP address from which the packet was received
   * @param port the remote port from which the packet was received
  * @retval None
  */
void udp_client_callback(void *arg, struct udp_pcb *upcb, struct pbuf *p, struct ip_addr *addr, u16_t port)
{
   0:	b570      	push	{r4, r5, r6, lr}
   2:	461d      	mov	r5, r3
   4:	4616      	mov	r6, r2
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:99
  struct tcp_pcb *pcb;
  __IO uint8_t iptab[4];
  uint8_t iptxt[20];
	
  /* Read the Server's IP address */
  iptab[0] = (uint8_t)((uint32_t)(addr->addr) >> 24);  
   6:	781b      	ldrb	r3, [r3, #0]
   8:	786a      	ldrb	r2, [r5, #1]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:93
   * @param addr the remote IP address from which the packet was received
   * @param port the remote port from which the packet was received
  * @retval None
  */
void udp_client_callback(void *arg, struct udp_pcb *upcb, struct pbuf *p, struct ip_addr *addr, u16_t port)
{
   a:	b088      	sub	sp, #32
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:99
  struct tcp_pcb *pcb;
  __IO uint8_t iptab[4];
  uint8_t iptxt[20];
	
  /* Read the Server's IP address */
  iptab[0] = (uint8_t)((uint32_t)(addr->addr) >> 24);  
   c:	ea43 2302 	orr.w	r3, r3, r2, lsl #8
  10:	78aa      	ldrb	r2, [r5, #2]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:104
  iptab[1] = (uint8_t)((uint32_t)(addr->addr) >> 16);
  iptab[2] = (uint8_t)((uint32_t)(addr->addr) >> 8);
  iptab[3] = (uint8_t)((uint32_t)(addr->addr));

  sprintf((char*)iptxt, "is: %d.%d.%d.%d     ", iptab[3], iptab[2], iptab[1], iptab[0]);
  12:	ac02      	add	r4, sp, #8
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:99
  struct tcp_pcb *pcb;
  __IO uint8_t iptab[4];
  uint8_t iptxt[20];
	
  /* Read the Server's IP address */
  iptab[0] = (uint8_t)((uint32_t)(addr->addr) >> 24);  
  14:	ea43 4302 	orr.w	r3, r3, r2, lsl #16
  18:	78ea      	ldrb	r2, [r5, #3]
  1a:	ea43 6302 	orr.w	r3, r3, r2, lsl #24
  1e:	0e1a      	lsrs	r2, r3, #24
  20:	f88d 201c 	strb.w	r2, [sp, #28]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:100
  iptab[1] = (uint8_t)((uint32_t)(addr->addr) >> 16);
  24:	f3c3 4207 	ubfx	r2, r3, #16, #8
  28:	f88d 201d 	strb.w	r2, [sp, #29]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:101
  iptab[2] = (uint8_t)((uint32_t)(addr->addr) >> 8);
  2c:	f3c3 2207 	ubfx	r2, r3, #8, #8
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:102
  iptab[3] = (uint8_t)((uint32_t)(addr->addr));
  30:	b2db      	uxtb	r3, r3
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:101
  uint8_t iptxt[20];
	
  /* Read the Server's IP address */
  iptab[0] = (uint8_t)((uint32_t)(addr->addr) >> 24);  
  iptab[1] = (uint8_t)((uint32_t)(addr->addr) >> 16);
  iptab[2] = (uint8_t)((uint32_t)(addr->addr) >> 8);
  32:	f88d 201e 	strb.w	r2, [sp, #30]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:102
  iptab[3] = (uint8_t)((uint32_t)(addr->addr));
  36:	f88d 301f 	strb.w	r3, [sp, #31]
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:104

  sprintf((char*)iptxt, "is: %d.%d.%d.%d     ", iptab[3], iptab[2], iptab[1], iptab[0]);
  3a:	f89d 201f 	ldrb.w	r2, [sp, #31]
  3e:	f89d 301e 	ldrb.w	r3, [sp, #30]
  42:	f89d 101d 	ldrb.w	r1, [sp, #29]
  46:	f89d 001c 	ldrb.w	r0, [sp, #28]
  4a:	9100      	str	r1, [sp, #0]
  4c:	9001      	str	r0, [sp, #4]
  4e:	490f      	ldr	r1, [pc, #60]	(8c <udp_client_callback+0x8c>)
  50:	4620      	mov	r0, r4
  52:	f7ff fffe 	bl	0 <sprintf>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:106
	
  LCD_DisplayStringLine(Line3, "The server's IP add.");
  56:	2048      	movs	r0, #72
  58:	490d      	ldr	r1, [pc, #52]	(90 <udp_client_callback+0x90>)
  5a:	f7ff fffe 	bl	0 <LCD_DisplayStringLine>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:107
  LCD_DisplayStringLine(Line4, iptxt);
  5e:	4621      	mov	r1, r4
  60:	2060      	movs	r0, #96
  62:	f7ff fffe 	bl	0 <LCD_DisplayStringLine>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:110

  /* Create a new TCP control block  */
  pcb = tcp_new();
  66:	f7ff fffe 	bl	0 <tcp_new>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:113

  /* Assign to the new pcb a local IP address and a port number */
  tcp_bind(pcb, IP_ADDR_ANY, TCP_PORT);
  6a:	2204      	movs	r2, #4
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:110
	
  LCD_DisplayStringLine(Line3, "The server's IP add.");
  LCD_DisplayStringLine(Line4, iptxt);

  /* Create a new TCP control block  */
  pcb = tcp_new();
  6c:	4604      	mov	r4, r0
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:113

  /* Assign to the new pcb a local IP address and a port number */
  tcp_bind(pcb, IP_ADDR_ANY, TCP_PORT);
  6e:	4909      	ldr	r1, [pc, #36]	(94 <udp_client_callback+0x94>)
  70:	f7ff fffe 	bl	0 <tcp_bind>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:116

  /* Connect to the server: send the SYN */
  tcp_connect(pcb, addr, TCP_PORT, tcp_client_connected);
  74:	4620      	mov	r0, r4
  76:	4629      	mov	r1, r5
  78:	2204      	movs	r2, #4
  7a:	4b07      	ldr	r3, [pc, #28]	(98 <udp_client_callback+0x98>)
  7c:	f7ff fffe 	bl	0 <tcp_connect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:119

  /* Free the p buffer */
  pbuf_free(p);
  80:	4630      	mov	r0, r6
  82:	f7ff fffe 	bl	0 <pbuf_free>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:120
}
  86:	b008      	add	sp, #32
  88:	bd70      	pop	{r4, r5, r6, pc}
  8a:	46c0      	nop			(mov r8, r8)
  8c:	00000015 	.word	0x00000015
  90:	0000002a 	.word	0x0000002a
	...
Disassembly of section .text.client_init:

00000000 <client_init>:
client_init():
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:54
  * @brief  Initialize the client application.
  * @param  None
  * @retval None
  */
void client_init(void)
{
   0:	b570      	push	{r4, r5, r6, lr}
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:59
   struct udp_pcb *upcb;
   struct pbuf *p;
                                  
   /* Create a new UDP control block  */
   upcb = udp_new();   
   2:	f7ff fffe 	bl	0 <udp_new>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:62
   
   /* Connect the upcb  */
   udp_connect(upcb, IP_ADDR_BROADCAST, UDP_SERVER_PORT);
   6:	2207      	movs	r2, #7
   8:	490f      	ldr	r1, [pc, #60]	(48 <client_init+0x48>)
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:59
{
   struct udp_pcb *upcb;
   struct pbuf *p;
                                  
   /* Create a new UDP control block  */
   upcb = udp_new();   
   a:	4604      	mov	r4, r0
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:62
   
   /* Connect the upcb  */
   udp_connect(upcb, IP_ADDR_BROADCAST, UDP_SERVER_PORT);
   c:	f7ff fffe 	bl	0 <udp_connect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:64

   p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_RAM);
  10:	2000      	movs	r0, #0
  12:	4602      	mov	r2, r0
  14:	4601      	mov	r1, r0
  16:	f7ff fffe 	bl	0 <pbuf_alloc>
  1a:	4605      	mov	r5, r0
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:67

   /* Send out an UDP datagram to inform the server that we have strated a client application */
   udp_send(upcb, p);   
  1c:	4629      	mov	r1, r5
  1e:	4620      	mov	r0, r4
  20:	f7ff fffe 	bl	0 <udp_send>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:70

   /* Reset the upcb */
   udp_disconnect(upcb);
  24:	4620      	mov	r0, r4
  26:	f7ff fffe 	bl	0 <udp_disconnect>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:73
   
   /* Bind the upcb to any IP address and the UDP_PORT port*/
   udp_bind(upcb, IP_ADDR_ANY, UDP_CLIENT_PORT);
  2a:	2204      	movs	r2, #4
  2c:	4620      	mov	r0, r4
  2e:	4907      	ldr	r1, [pc, #28]	(4c <client_init+0x4c>)
  30:	f7ff fffe 	bl	0 <udp_bind>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:76
   
   /* Set a receive callback for the upcb */
   udp_recv(upcb, udp_client_callback, NULL);
  34:	4620      	mov	r0, r4
  36:	4906      	ldr	r1, [pc, #24]	(50 <client_init+0x50>)
  38:	2200      	movs	r2, #0
  3a:	f7ff fffe 	bl	0 <udp_recv>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:79

   /* Free the p buffer */
   pbuf_free(p);
  3e:	4628      	mov	r0, r5
  40:	f7ff fffe 	bl	0 <pbuf_free>
D:\SAV\STM32_Documents\lwip_st_STM32\STM32F107_ETH_LwIP_V1.0.0\Utilities\lwip-1.3.1\port/client.c:81
  
}
  44:	bd70      	pop	{r4, r5, r6, pc}
  46:	46c0      	nop			(mov r8, r8)
	...
